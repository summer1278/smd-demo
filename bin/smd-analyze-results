#!/usr/bin/env ruby

$: << 'lib'

require 'smd'
require 'optparse'

options = {}

OptionParser.new do |opts|
  opts.banner = "Usage: smd-analyze-results [options]"

  opts.on("-i", "--input-dir [DIR]", "Input directory") do |i|
    options[:input_directory] = i
  end

  opts.on("-w", "--window [DIR]", "window size") do |w|
    options[:window] = w
  end

  opts.on_tail("-h", "--help", "Show this message") do
    puts opts
    exit
  end

end.parse!

outputer = Smd::SumUpResults.new options[:input_directory],options[:window]
outputer.sumUp
